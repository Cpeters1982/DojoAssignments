<!DOCTYPE html>
<html ng-app='app'>
  <head>
    <meta charset="utf-8">
    <title>Controlling Users</title>
    <script src="./../node_modules/angular/angular.js"></script>
    <script type="text/javascript">
      var app = angular.module('app', []);
      app.controller('usersController', ['$scope', function($scope){
        $scope.users = [
          {firstName:"Nick", lastName:"deLannoy", language:"Swift"}
        ];
        // $scope.users = [];
        $scope.addUser = function(){
          $scope.users.push($scope.newUser)
          $scope.newUser = {}
        }
        $scope.deleteUser = function(index){
          $scope.users.splice(index, 1);
        }

      }])
    </script>
  </head>
  <body>
    <div ng-controller="usersController">
      <table>
        <tr>
          <td>First Name</td>
          <td><input type="text" name="first_name" ng-model="newUser.firstName"></td>
        </tr>
        <tr>
          <td>Last Name</td>
          <td><input type="text" name="last_name" ng-model="newUser.lastName"></td>
        </tr>
        <tr>
          <td>Favorite Language</td>
          <td><input type="text" name="language" ng-model="newUser.language"></td>
          <td><button type="button" name="create_button" ng-click="addUser()">Create User</button></td>
        </tr>
      </table>

      <br><br>

      <table border=1 cellpadding=5>
        <tr>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Favorite Language</th>
          <th>Actions</th>
        </tr>
        <tr ng-repeat="user in users | orderBy:'firstName' track by $index">
          <td>{{user.firstName}}</td>
          <td>{{user.lastName}}</td>
          <td>{{user.language}}</td>
          <td><button type="button" name="delete_button" ng-click="deleteUser($index)">Delete</button></td>
        </tr>
      </table>
    </div>

  </body>
</html>
